{"version":3,"sources":["webpack:///./src/views/dashboard/ProductUpdate.vue?a37f","webpack:///./src/views/dashboard/ProductUpdate.vue?4b0e","webpack:///src/views/dashboard/ProductUpdate.vue","webpack:///./src/views/dashboard/ProductUpdate.vue?c772","webpack:///./src/views/dashboard/ProductUpdate.vue?223f","webpack:///./src/views/dashboard/ProductUpdate.vue?a617"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","on","backProductsList","_v","ref","attrs","productForm","rules","model","value","callback","$$v","$set","expression","$event","submitForm","_l","item","key","label","saveImg","img","staticRenderFns","data","image","name","quantity","type","price","options","methods","$router","go","input","event","target","files","reader","FileReader","onload","readAsDataURL","$refs","formName","validate","alertErr","console","log","err","$message","showClose","message","alertSuccess","computed","productUpdate","component"],"mappings":"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","file":"js/chunk-1a83a8d3.b303b017.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductUpdate.vue?vue&type=style&index=0&scope=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"update-product\"},[_c('div',{staticClass:\"back\"},[_c('i',{staticClass:\"el-icon-arrow-left\",staticStyle:{\"margin-left\":\"5px\"},on:{\"click\":_vm.backProductsList}},[_vm._v(\"Back to Products List\")])]),_c('el-row',{staticClass:\"muiGrid\"},[_c('el-form',{ref:\"productForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.productForm,\"rules\":_vm.rules}},[_c('el-col',{attrs:{\"span\":16}},[_c('div',{staticClass:\"general-inf\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"General Information\")]),_c('el-form-item',{attrs:{\"label\":\"Product name\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.productForm.name),callback:function ($$v) {_vm.$set(_vm.productForm, \"name\", $$v)},expression:\"productForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Quantity\",\"prop\":\"quantity\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.productForm.quantity),callback:function ($$v) {_vm.$set(_vm.productForm, \"quantity\", $$v)},expression:\"productForm.quantity\"}})],1)],1),_c('div',{staticClass:\"price\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"Product Price\")]),_c('el-form-item',{attrs:{\"label\":\"Product price\",\"prop\":\"price\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.productForm.price),callback:function ($$v) {_vm.$set(_vm.productForm, \"price\", $$v)},expression:\"productForm.price\"}})],1)],1),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('productForm')}}},[_vm._v(\"Save\")])],1),_c('el-col',{attrs:{\"span\":8}},[_c('div',{staticClass:\"additional-inf\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"Additional Information\")]),_c('el-form-item',{attrs:{\"label\":\"Product Type\",\"prop\":\"type\"}},[_c('el-select',{attrs:{\"placeholder\":\"Select product type\"},model:{value:(_vm.productForm.type),callback:function ($$v) {_vm.$set(_vm.productForm, \"type\", $$v)},expression:\"productForm.type\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('div',{staticStyle:{\"padding\":\"20px\"}},[_vm._v(\"Product Image\")]),_c('div',{staticStyle:{\"padding\":\"20px\"}},[_c('input',{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{\"type\":\"file\",\"accept\":\"image/*\"},on:{\"change\":_vm.saveImg}}),(_vm.productForm.img)?[_c('img',{staticClass:\"form-control-file\",attrs:{\"src\":_vm.productForm.img}})]:_c('div',{staticClass:\"upload-img\",staticStyle:{\"width\":\"100%\",\"text-align\":\"center\"},attrs:{\"type\":\"file\",\"accept\":\"image/*\"},on:{\"change\":_vm.saveImg}},[_c('i',{staticClass:\"el-icon-plus\",staticStyle:{\"line-height\":\"300px\"}})])],2)],1)])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"update-product\">\n    <div class=\"back\">\n      <i\n        @click=\"backProductsList\"\n        style=\"margin-left: 5px\"\n        class=\"el-icon-arrow-left\"\n        >Back to Products List</i\n      >\n    </div>\n    <el-row class=\"muiGrid\">\n      <el-form\n        :model=\"productForm\"\n        :rules=\"rules\"\n        ref=\"productForm\"\n        class=\"demo-ruleForm\"\n      >\n        <el-col :span=\"16\">\n          <div class=\"general-inf\">\n            <div class=\"title\">General Information</div>\n            <el-form-item label=\"Product name\" prop=\"name\">\n              <el-input v-model=\"productForm.name\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"Quantity\" prop=\"quantity\">\n              <el-input type=\"number\" v-model=\"productForm.quantity\"></el-input>\n            </el-form-item>\n          </div>\n\n          <div class=\"price\">\n            <div class=\"title\">Product Price</div>\n            <el-form-item label=\"Product price\" prop=\"price\">\n              <el-input type=\"number\" v-model=\"productForm.price\"></el-input>\n            </el-form-item>\n          </div>\n          <el-button type=\"primary\" @click=\"submitForm('productForm')\"\n            >Save</el-button\n          >\n        </el-col>\n        <el-col :span=\"8\">\n          <div class=\"additional-inf\">\n            <div class=\"title\">Additional Information</div>\n            <el-form-item label=\"Product Type\" prop=\"type\">\n              <el-select\n                v-model=\"productForm.type\"\n                placeholder=\"Select product type\"\n              >\n                <el-option\n                  v-for=\"item in options\"\n                  :key=\"item.value\"\n                  :label=\"item.label\"\n                  :value=\"item.value\"\n                >\n                </el-option>\n              </el-select>\n            </el-form-item>\n            <div style=\"padding: 20px\">Product Image</div>\n            <div style=\"padding: 20px\">\n              <input\n                type=\"file\"\n                accept=\"image/*\"\n                @change=\"saveImg\"\n                style=\"margin-bottom: 10px\"\n              />\n              <template v-if=\"productForm.img\">\n                <img :src=\"productForm.img\" class=\"form-control-file\" />\n              </template>\n              <div\n                v-else\n                class=\"upload-img\"\n                style=\"width: 100%; text-align: center\"\n                type=\"file\"\n                accept=\"image/*\"\n                @change=\"saveImg\"\n              >\n                <i style=\"line-height: 300px\" class=\"el-icon-plus\"></i>\n              </div>\n            </div>\n          </div>\n        </el-col>\n      </el-form>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      image: null,\n      productForm: {\n        name: \"\",\n        quantity: null,\n        type: \"\",\n        price: null,\n        img: null,\n      },\n      options: [\n        {\n          value: \"berries\",\n          label: \"Berries\",\n        },\n        {\n          value: \"milk\",\n          label: \"Milk\",\n        },\n        {\n          value: \"vegetables\",\n          label: \"Vegetables\",\n        },\n        {\n          value: \"nuts\",\n          label: \"Nuts\",\n        },\n        {\n          value: \"cereals\",\n          label: \"Cereals\",\n        },\n      ],\n\n      rules: {\n        name: [\n          {\n            required: true,\n            message: \"Please input Product name\",\n            trigger: \"blur\",\n          },\n          {\n            min: 2,\n            message: \"Length should be larger than 1\",\n            trigger: \"blur\",\n          },\n        ],\n        quantity: [\n          { required: true, message: \"Please input quantity\", trigger: \"blur\" },\n        ],\n        price: [\n          { required: true, message: \"Please input price\", trigger: \"blur\" },\n        ],\n        type: [\n          { required: true, message: \"Please select type\", trigger: \"change\" },\n        ],\n      },\n      \n    };\n  },\n\n  methods: {\n    backProductsList() {\n      this.$router.go(-1);\n    },\n    saveImg(event) {\n      var input = event.target;\n      if (input.files) {\n        var reader = new FileReader();\n        reader.onload = (e) => {\n          this.productForm.img = e.target.result;\n        };\n        this.image = input.files[0];\n        reader.readAsDataURL(input.files[0]);\n      }\n    },\n    submitForm(formName) {\n      const {id} = this.$route.query \n      this.$refs[formName].validate(async (valid) => {\n        if (valid) {\n          await axios\n            .put(`https://gv-grocery-api.herokuapp.com/api.updateProduct/${id}`, this.productForm)\n            .then((res) => {\n              this.alertSuccess();\n              console.log(res);\n            })\n            .catch((err) => this.alertErr(err.response.data));\n          this.$router.push(\"/dashboard/product\");\n        console.log(this.productForm)\n        } else {\n          this.alertErr({message: \"File ảnh không được vượt quá 60KB\"});\n          return false;\n        }\n      });\n    },\n    alertErr(err) {\n      console.log(err)\n      this.$message({\n        showClose: true,\n        message: err.message || \"Đã có lỗi xảy ra!\",\n        type: \"error\",\n      });\n    },\n    alertSuccess() {\n      this.$message({\n        showClose: true,\n        message: \"Sửa sản phẩm thành công!\",\n        type: \"success\",\n      });\n    },\n  },\n  async created() {\n      const {id} = this.$route.query\n      await this.$store.dispatch('getProductById', id)\n      this.productForm.name = this.productUpdate.name\n      this.productForm.img = this.productUpdate.img\n      this.productForm.quantity = this.productUpdate.quantity\n      this.productForm.type = this.productUpdate.type\n      this.productForm.price = this.productUpdate.price\n      \n  },\n  computed: {\n    productUpdate() {\n        return this.$store.state.productById\n    }\n  }\n\n};\n</script>\n<style scope>\n.avatar-uploader {\n  text-align: center;\n}\n.avatar-uploader .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.avatar-uploader .el-upload:hover {\n  border-color: #409eff;\n}\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 178px;\n  height: 178px;\n  line-height: 178px;\n  text-align: center;\n}\n.update-product .avatar {\n  width: 178px;\n  height: 178px;\n  display: block;\n}\n\n.update-product {\n  height: 100vh;\n  text-align: left;\n}\n.update-product .back {\n  background-color: white;\n  padding: 15px;\n  color: #747c87;\n}\n.update-product .el-icon-arrow-left {\n  cursor: pointer;\n}\n.update-product .el-icon-arrow-left::before {\n  margin-right: 5px;\n}\n.update-product .general-inf {\n  background-color: white;\n  padding-bottom: 15px;\n}\n\n.update-product .additional-inf {\n  background-color: white;\n  padding-bottom: 15px;\n}\n\n.update-product .price {\n  background-color: white;\n  padding-bottom: 15px;\n  margin: 20px 0;\n}\n.title {\n  padding: 16px 24px;\n  border-bottom: 1px solid #e5e5e5;\n  font-weight: 500;\n}\n.update-product .muiGrid {\n  margin: 20px auto;\n  width: 95%;\n}\n.update-product .el-col-16 {\n  padding-right: 10px;\n}\n.update-product .el-col-8 {\n  padding-left: 10px;\n}\n.update-product .el-form-item {\n  display: grid;\n  margin-bottom: 5px;\n  padding-bottom: 25px;\n}\n.update-product .el-form {\n  padding: 10px;\n}\n</style>\n\n<style>\n.update-product .el-form-item__content {\n  margin-left: 0 !important;\n  padding: 0 20px;\n}\n.update-product .el-form-item__label {\n  text-align: left;\n  padding: 0 20px;\n}\n.update-product .el-form-item__error {\n  padding: 10px 20px;\n}\n.form-control-file {\n  max-width: 300px;\n}\n.upload-img {\n  border: 1px black dashed;\n  width: 300px;\n  height: 300px;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductUpdate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductUpdate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProductUpdate.vue?vue&type=template&id=176435b8&\"\nimport script from \"./ProductUpdate.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductUpdate.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProductUpdate.vue?vue&type=style&index=0&scope=true&lang=css&\"\nimport style1 from \"./ProductUpdate.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductUpdate.vue?vue&type=style&index=1&lang=css&\""],"sourceRoot":""}