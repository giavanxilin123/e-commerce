{"remainingRequest":"E:\\University_Course\\HK 211\\E-Com\\e-commerce\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\University_Course\\HK 211\\E-Com\\e-commerce\\frontend\\src\\views\\Order.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\University_Course\\HK 211\\E-Com\\e-commerce\\frontend\\src\\views\\Order.vue","mtime":1634655628944},{"path":"E:\\University_Course\\HK 211\\E-Com\\e-commerce\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\University_Course\\HK 211\\E-Com\\e-commerce\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\University_Course\\HK 211\\E-Com\\e-commerce\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\University_Course\\HK 211\\E-Com\\e-commerce\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICAgICBkYXRhKCkgewogICAgICByZXR1cm4gewogICAgICAgIGZvcm1PcmRlcjogewogICAgICAgICAgICBmdWxsbmFtZTonJywKICAgICAgICAgICAgdXNlcm5hbWU6JycsCiAgICAgICAgICAgIGVtYWlsOicnLAogICAgICAgICAgICBwaG9uZTonJywKICAgICAgICAgICAgYWRkcmVzczogJycsCiAgICAgICAgICAgIHF1YW50aXR5OiAxLAogICAgICAgICAgICBwcm9kdWN0X25hbWU6ICdjaGVycnknLAogICAgICAgICAgICBsb2NhdGlvbjogewogICAgICAgICAgICAgICAgbGF0OiAnJywKICAgICAgICAgICAgICAgIGxuZzogJycKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgY2VudGVyOiB7bGF0OiAxMC43NzE5OTM3LCBsbmc6IDEwNi43MDU3OTUxfSwKICAgICAgfTsKICAgIH0sCiAgICAKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgY29uc3QgbWFwID0gbmV3IHdpbmRvdy5nb29nbGUubWFwcy5NYXAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcCcpLCB7CiAgICAgICAgICAgIGNlbnRlcjogeyBsYXQ6IHRoaXMuY2VudGVyLmxhdCwgbG5nOiB0aGlzLmNlbnRlci5sbmcgfSwKICAgICAgICAgICAgem9vbTogMTYsCiAgICAgICAgfSk7CgogICAgICAgIGxldCBtYXJrZXIgPSBuZXcgd2luZG93Lmdvb2dsZS5tYXBzLk1hcmtlcih7CiAgICAgICAgICAgIHBvc2l0aW9uOiB0aGlzLmNlbnRlciwKICAgICAgICAgICAgbWFwOiBtYXAsCiAgICAgICAgICAgIGFuaW1hdGlvbjogIHdpbmRvdy5nb29nbGUubWFwcy5BbmltYXRpb24uQk9VTkNFCiAgICAgICAgfSk7CgogICAgICAgIGxldCBkaXJlY3Rpb25zU2VydmljZSA9IG5ldyB3aW5kb3cuZ29vZ2xlLm1hcHMuRGlyZWN0aW9uc1NlcnZpY2UoKTsKICAgICAgICAKICAgICAgICBsZXQgYXV0b0NvbXBsZXRlID0gbmV3IHdpbmRvdy5nb29nbGUubWFwcy5wbGFjZXMuQXV0b2NvbXBsZXRlKAogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXV0b19zZWFyY2gnKQogICAgICAgICk7CiAgICAgICAgYXV0b0NvbXBsZXRlLmFkZExpc3RlbmVyKCdwbGFjZV9jaGFuZ2VkJywgKCkgPT4gewogICAgICAgICAgICBsZXQgcGxhY2UgPSBhdXRvQ29tcGxldGUuZ2V0UGxhY2UoKQogICAgICAgICAgICB0aGlzLmZvcm1PcmRlci5sb2NhdGlvbi5sYXQgPSBwbGFjZS5nZW9tZXRyeS5sb2NhdGlvbi5sYXQoKQogICAgICAgICAgICB0aGlzLmZvcm1PcmRlci5sb2NhdGlvbi5sbmcgPSBwbGFjZS5nZW9tZXRyeS5sb2NhdGlvbi5sbmcoKQogICAgICAgICAgICBjb25zb2xlLmxvZyhwbGFjZS5nZW9tZXRyeS5sb2NhdGlvbi5sYXQoKSxwbGFjZS5nZW9tZXRyeS5sb2NhdGlvbi5sbmcoKSkKICAgICAgICAgICAgZGlyZWN0aW9uc1NlcnZpY2Uucm91dGUoewogICAgICAgICAgICAgICAgb3JpZ2luOiB0aGlzLmNlbnRlciwKICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uOiBwbGFjZS5nZW9tZXRyeS5sb2NhdGlvbiwKICAgICAgICAgICAgICAgIHRyYXZlbE1vZGU6ICdEUklWSU5HJwogICAgICAgICAgICB9LAogICAgICAgICAgICAocmVzLCBzdGF0dXMpID0+IHsKICAgICAgICAgICAgICAgIGlmIChzdGF0dXMgPT0gJ09LJyl7CiAgICAgICAgICAgICAgICAgICAgbmV3IHdpbmRvdy5nb29nbGUubWFwcy5EaXJlY3Rpb25zUmVuZGVyZXIoewogICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb25zOiByZXMsCiAgICAgICAgICAgICAgICAgICAgICAgIG1hcDogbWFwCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgLy8gbGV0IGRpcmVjdGlvbnNEYXRhID0gcmVzLnJvdXRlc1swXS5sZWdzWzBdCiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZGlyZWN0aW9uc0RhdGEuZGlzdGFuY2UudGV4dCkKICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkaXJlY3Rpb25zRGF0YSkKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgbWFwLnNldENlbnRlcihwbGFjZS5nZW9tZXRyeS5sb2NhdGlvbiksCiAgICAgICAgICAgIG1hcmtlci5zZXRQb3NpdGlvbihwbGFjZS5nZW9tZXRyeS5sb2NhdGlvbikKICAgICAgICAgICAgCiAgICAgICAgKQogICAgICAgIH0pCiAgICB9LAoKICAgIG1ldGhvZHM6IHsKICAgICAgICBhc3luYyBjaGVja091dCgpewogICAgICAgICAgICBhd2FpdCBheGlvcy5wdXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9vcmRlcicsIHtmb3JtT3JkZXI6IHRoaXMuZm9ybU9yZGVyfSkKICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuYWxlcnRTdWNjZXNzKCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gdGhpcy5hbGVydEVycihlcnIucmVzcG9uc2UuZGF0YSkpCiAgICAgICAgfSwKICAgICAgICBhbGVydEVycihlcnIpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiAgZXJyLm1lc3NhZ2UgfHwgIsSQw6MgY8OzIGzhu5dpIHjhuqN5IHJhISIsCiAgICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGFsZXJ0U3VjY2VzcygpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICJUaMOgbmggQ8O0bmchIiwKICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIgogICAgICAgIH0pOwogICAgICAgIH0KICAgIAogIH0KCn0K"},{"version":3,"sources":["Order.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA","file":"Order.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class = \"order\">\n    <el-row :gutter=\"20\">\n        <el-col style=\"text-align: left; position: relative;  border-right: 1px solid #e5e5e5;\" :span=\"15\">\n            <div style=\"font-size: 25px; margin: 15px 0; font-weight: 700\">1. Personal Information</div>\n            <el-form style=\"margin-bottom: 40px\" ref=\"form\" :model=\"formOrder\" label-width=\"120px\">\n                    <el-form-item label=\"Full Name\">\n                        <el-input v-model=\"formOrder.fullname\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"Username\">\n                        <el-input v-model=\"formOrder.username\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"Email\">\n                        <el-input v-model=\"formOrder.email\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"Phone\">\n                        <el-input v-model=\"formOrder.phone\"></el-input>\n                    </el-form-item>\n            </el-form>\n                \n            <div style=\"font-size: 25px; margin: 15px 0; border-top: 2px solid #e5e5e5; padding-top: 25px; font-weight: 700\">2. Addresses</div>\n            <el-form style=\"margin-bottom: 50px\" ref=\"form\" :model=\"formOrder\" label-width=\"120px\">\n                    <el-form-item label=\"Enter Address\">\n                        <el-input id=\"auto_search\" v-model=\"formOrder.address\"></el-input>\n                    </el-form-item>\n            </el-form>\n            \n            <div id=\"map\"></div>\n            <div style=\"font-size: 25px; margin: 15px 0; border-top: 2px solid #e5e5e5; padding-top: 25px; font-weight: 700\">3. Payment</div>\n            <el-button @click =\"checkOut\" style=\"position: absolute; right: 0; margin: 50px\" type=\"success\">CheckOut</el-button>\n        </el-col>\n        \n        <el-col :span=\"9\">\n            <div>\n                <div class=\"total\">\n          <div class=\"type-fee\">\n            <div style= \"text-align: left\">\n              <div class=\"fee-detail\">Subtotal</div>\n              <div class=\"fee-detail\">Shipping</div>\n              <div class=\"fee-detail\">Taxes</div>\n            </div>\n            <div style= \"text-align: right\">\n              <div class=\"fee-detail\">$37.95</div>\n              <div class=\"fee-detail\">Free</div>\n              <div class=\"fee-detail\">$0.00</div>\n            </div>\n          </div>\n          <div class = \"sum\">\n            <div>TOTAL</div>\n            <div>$37.95</div>\n          </div>\n          \n          <div class=\"icon-bg\">\n              <div class=\"icon-detail\">\n                    <div class=\"icon\">\n                        <img src=\"../assets/delivery.jpeg\" alt=\"\">\n                    </div>\n                    <div class=\"icon-content\">Free delivery</div>\n              </div>\n              <div style=\"border-top: 2px solid #e5e5e5; border-bottom: 2px solid #e5e5e5\" class=\"icon-detail\">\n                    <div class=\"icon\">\n                        <img src=\"../assets/money.jpeg\" alt=\"\">\n                    </div>\n                    <div class=\"icon-content\">Money Back</div>\n              </div>\n              <div class=\"icon-detail\">\n                    <div class=\"icon\">\n                        <img src=\"../assets/support.jpeg\" alt=\"\">\n                    </div>\n                    <div class=\"icon-content\">Support 24/7</div>\n              </div>\n          </div>\n          \n          </div>\n            </div>\n        </el-col>\n    </el-row>\n</div> \n</template>\n\n<script>\nimport axios from 'axios';\nexport default {\n     data() {\n      return {\n        formOrder: {\n            fullname:'',\n            username:'',\n            email:'',\n            phone:'',\n            address: '',\n            quantity: 1,\n            product_name: 'cherry',\n            location: {\n                lat: '',\n                lng: ''\n            }\n        },\n        center: {lat: 10.7719937, lng: 106.7057951},\n      };\n    },\n    \n    mounted() {\n        const map = new window.google.maps.Map(document.getElementById('map'), {\n            center: { lat: this.center.lat, lng: this.center.lng },\n            zoom: 16,\n        });\n\n        let marker = new window.google.maps.Marker({\n            position: this.center,\n            map: map,\n            animation:  window.google.maps.Animation.BOUNCE\n        });\n\n        let directionsService = new window.google.maps.DirectionsService();\n        \n        let autoComplete = new window.google.maps.places.Autocomplete(\n            document.getElementById('auto_search')\n        );\n        autoComplete.addListener('place_changed', () => {\n            let place = autoComplete.getPlace()\n            this.formOrder.location.lat = place.geometry.location.lat()\n            this.formOrder.location.lng = place.geometry.location.lng()\n            console.log(place.geometry.location.lat(),place.geometry.location.lng())\n            directionsService.route({\n                origin: this.center,\n                destination: place.geometry.location,\n                travelMode: 'DRIVING'\n            },\n            (res, status) => {\n                if (status == 'OK'){\n                    new window.google.maps.DirectionsRenderer({\n                        directions: res,\n                        map: map\n                        }\n                    )\n                    // let directionsData = res.routes[0].legs[0]\n                    // console.log(directionsData.distance.text)\n                    // console.log(directionsData)\n                    \n                    \n                }\n            },\n            map.setCenter(place.geometry.location),\n            marker.setPosition(place.geometry.location)\n            \n        )\n        })\n    },\n\n    methods: {\n        async checkOut(){\n            await axios.put('http://localhost:5000/order', {formOrder: this.formOrder})\n            .then(res => {\n                this.alertSuccess();\n                console.log(res)\n            })\n            .catch(err => this.alertErr(err.response.data))\n        },\n        alertErr(err) {\n        this.$message({\n            showClose: true,\n            message:  err.message || \"Đã có lỗi xảy ra!\",\n            type: \"error\"\n        });\n        },\n        alertSuccess() {\n        this.$message({\n          showClose: true,\n          message: \"Thành Công!\",\n          type: \"success\"\n        });\n        }\n    \n  }\n\n}\n</script>\n\n<style>\n    .order {\n        max-width: 1250px;\n        margin: 0 auto;\n        width: 90%;\n    }\n    .order .el-col{\n        padding: 60px !important;\n    }\n    .order #map {\n        height: 500px;\n    }\n    \n</style>\n\n<style scoped>\n    .sum {\n        display: flex;\n        justify-content: space-between;\n        font-size: 18px;\n        padding: 20px 0;\n        border-top: 2px solid #e5e5e5;\n        font-weight: 500;\n    }\n    .type-fee {\n        display: flex;\n        justify-content: space-between;\n        border-bottom: 1px solid rgba(0,0,0,.1);\n        padding-bottom: 15px;\n        font-weight: 500;\n    }\n    .fee-detail {\n        font-size: 16px;\n        font-weight: 500;\n        padding: 5px;\n    }\n    .icon-bg {\n        background-color: #f1f1f1;\n        padding: 0 30px;\n        text-align: left\n    }\n    .icon-detail {\n        padding: 25px 0;\n        display: flex;\n        align-items: center;\n    }\n    .icon {\n        margin-right: 10px;\n    }\n    \n</style>"]}]}